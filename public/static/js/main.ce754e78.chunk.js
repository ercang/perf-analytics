(this["webpackJsonpperfanalytics.dashboard"]=this["webpackJsonpperfanalytics.dashboard"]||[]).push([[0],{153:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(45),s=n.n(i),o=(n(52),n(6)),c=n(7),u=n(18),l=n(17),p=(n(29),n(10)),h=n(1),d=n.n(h),f=n(5);function v(){return(v=Object(f.a)(d.a.mark((function e(){var t,n,a,r,i,s,o=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},a=null,r=null,r={"Content-Type":"application/json"},a=JSON.stringify(n),i={method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrer:"no-referrer",body:a},r&&(i.headers=r),"http://localhost:80",t=""+t,e.next=13,fetch(t,i);case 13:return s=e.sent,e.next=16,s.json();case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return b.apply(this,arguments)}function b(){return(b=Object(f.a)(d.a.mark((function e(){var t,n,a=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"","http://localhost:80",t=""+t,e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=new(function(){function e(){Object(o.a)(this,e),this.sites=[],this.siteUpdateCallback=[],this.siteReport=[],this.siteReportCallback=[],this.requestSites()}return Object(c.a)(e,[{key:"addWebSite",value:function(e){var t=this;(function(){return v.apply(this,arguments)})("/site",{name:e}).then(Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.requestSites();case 1:case"end":return e.stop()}}),e)}))))}},{key:"requestSites",value:function(){var e=Object(f.a)(d.a.mark((function e(){var t,n=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/site");case 2:t=e.sent,this.sites=t.sites,this.siteUpdateCallback.forEach((function(e){e(n.sites)}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSites",value:function(){return this.sites}},{key:"onSitesUpdated",value:function(e){this.siteUpdateCallback.push(e)}},{key:"loadReport",value:function(){var e=Object(f.a)(d.a.mark((function e(t){var n,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("loadReport",t),e.next=3,m("/report/"+t);case 3:n=e.sent,console.log(n.data),this.siteReport=n.data,this.siteReportCallback.forEach((function(e){e(a.siteReport)}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSiteReportUpdated",value:function(e){this.siteReportCallback.push(e)}}]),e}()),k=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={value:""},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.onAddWebsiteClicked=a.onAddWebsiteClicked.bind(Object(p.a)(a)),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"onAddWebsiteClicked",value:function(e){y.addWebSite(this.state.value)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,placeholder:"Enter Website Name"}),r.a.createElement("button",{onClick:this.onAddWebsiteClicked},"Add Web Site"))}}]),n}(r.a.Component);function E(e){return(e.sites?e.sites:[]).map((function(e){return r.a.createElement("div",{key:e.uuid},"[",e.uuid,"] ",e.name," - ",r.a.createElement("a",{href:"#",onClick:function(){y.loadReport(e.uuid)}},"[Show Data]"))}))}var w=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"List Of WebSites"),r.a.createElement(E,{sites:e.sites}),r.a.createElement(k,null))},g=n(46);var C=function(e){var t=e.report.map((function(t){return t.performanceData[e.reportKey]}));return r.a.createElement("div",{style:{width:"45%",float:"left"}},r.a.createElement(g.Line,{data:{labels:[e.reportKey],datasets:[{data:t,label:e.reportKey}]}}))};var j=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,"Report"),r.a.createElement(C,{reportKey:"ttfb",report:e.report}),r.a.createElement(C,{reportKey:"fcp",report:e.report}),r.a.createElement(C,{reportKey:"domLoadTime",report:e.report}),r.a.createElement(C,{reportKey:"windowLoadTime",report:e.report}))},O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={sites:[],report:[]},y.onSitesUpdated((function(e){a.setState({sites:e,report:a.state.report})})),y.onSiteReportUpdated((function(e){a.setState({sites:a.state.sites,report:e})})),a}return Object(c.a)(n,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"PerfAnalytics - Dashboard"),r.a.createElement(w,{sites:this.state.sites}),r.a.createElement(j,{report:this.state.report}))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},29:function(e,t,n){},47:function(e,t,n){e.exports=n(153)},52:function(e,t,n){}},[[47,1,2]]]);
//# sourceMappingURL=main.ce754e78.chunk.js.map